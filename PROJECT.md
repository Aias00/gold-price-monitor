# Gold Price Monitor - Chrome Extension

## 项目概述

创建一个简洁优雅的 Chrome 扩展程序，在浏览器工具栏实时展示国内投资金价，并显示近一周的价格走势图表。

## 核心功能

### 1. 实时金价显示 ⭐⭐⭐⭐⭐

**功能描述**：
- 在 Chrome 工具栏显示当前金价图标
- 鼠标悬停显示简要信息（价格、涨跌）
- 点击图标打开详细弹窗

**界面设计**：
```
┌──────────────────────────────────────┐
│ 💰 金价: ¥1,110/克 ↓ -0.14%         │
└──────────────────────────────────────┘
```

### 2. 价格走势图表 ⭐⭐⭐⭐⭐

**功能描述**：
- 显示近 7 天金价走势折线图
- 支持交互式查看每日数据点
- 显示关键指标（最高、最低、平均）

**界面设计**：
```
┌──────────────────────────────────────┐
│ 📊 近7天金价走势                     │
├──────────────────────────────────────┤
│                                      │
│   1116 ┤     ╭─╮                     │
│   1112 ┤   ╭─╯  ╰╮                   │
│   1108 ┤  ╭╯     ╰╮                  │
│   1104 ┤ ╭╯        ╰─╮               │
│   1100 ┤╭╯           ╰╮              │
│        └─┬──┬──┬──┬──┬─             │
│         21  22  23  24               │
│                                      │
│ 最高: ¥1,116.56  最低: ¥1,110.00     │
│ 平均: ¥1,113.14                      │
└──────────────────────────────────────┘
```

### 3. 详细数据展示 ⭐⭐⭐⭐

**功能描述**：
- 显示每日详细数据（价格、涨跌、涨跌幅）
- 支持查看历史记录
- 显示投资金价参考

**界面设计**：
```
┌──────────────────────────────────────┐
│ 📅 历史数据                          │
├──────────────────────────────────────┤
│ 2026-02-24  ¥1,110.00  -¥0.56  -0.05%│
│ 2026-02-23  ¥1,110.56  -¥16.56 -1.47%│
│ 2026-02-22  ¥1,127.12  +¥2.50   +0.22%│
│ 2026-02-21  ¥1,124.62  --       --   │
└──────────────────────────────────────┘
```

### 4. 价格提醒 ⭐⭐⭐

**功能描述**：
- 设置价格阈值（高于/低于）
- 浏览器通知提醒
- 声音提醒（可选）

### 5. 快速参考 ⭐⭐⭐

**功能描述**：
- 显示投资金价参考（基础价 + 3-5元工费）
- 显示首饰金价参考
- 数据来源说明

## 技术架构

### 文件结构
```
gold-price-monitor/
├── manifest.json              # Chrome Extension 配置
├── popup/
│   ├── popup.html            # 弹窗界面
│   ├── popup.css             # 样式
│   ├── popup.js              # 逻辑
│   └── chart.js              # 图表绘制
├── background/
│   └── background.js         # 后台服务（定时更新）
├── data/
│   └── gold_price_history.json # 金价历史数据
├── utils/
│   └── helpers.js            # 工具函数
└── icons/
    ├── icon16.png            # 图标
    ├── icon48.png
    └── icon128.png
```

### manifest.json 要求
```json
{
  "manifest_version": 3,
  "name": "Gold Price Monitor",
  "version": "1.0.0",
  "description": "实时监控国内投资金价，显示近一周价格走势",
  "permissions": [
    "storage",
    "notifications",
    "alarms"
  ],
  "background": {
    "service_worker": "background/background.js"
  },
  "action": {
    "default_popup": "popup/popup.html",
    "default_icon": {
      "16": "icons/icon16.png",
      "48": "icons/icon48.png",
      "128": "icons/icon128.png"
    }
  },
  "web_accessible_resources": [
    {
      "resources": ["data/*"],
      "matches": ["<all_urls>"]
    }
  ]
}
```

## 数据格式

### gold_price_history.json 示例
```json
{
  "records": [
    {
      "date": "2026-02-24",
      "price": 1110.00,
      "change": -0.56,
      "change_percent": -0.05,
      "timestamp": "2026-02-24 09:00:00"
    }
  ],
  "unit": "CNY/克",
  "source": "上海黄金期货 (沪金2603)",
  "last_update": "2026-02-24 09:00:00"
}
```

## UI/UX 要求

### 设计原则
- **简洁现代** - 金色主题，简洁的卡片式设计
- **一目了然** - 关键信息突出显示
- **交互友好** - 鼠标悬停显示详情
- **响应式** - 适配不同屏幕尺寸

### 配色方案
```
主色: 金色 (#FFD700, #FFA500)
辅助: 深色背景 (#1a1a1a, #2d2d2d)
涨跌: 绿涨 (#10B981) 红跌 (#EF4444)
文字: 白色 (#FFFFFF) 灰色 (#9CA3AF)
```

### 图标设计
- 使用金币或金条图标
- 支持动态显示涨跌（箭头）
- 三种尺寸：16x16, 48x48, 128x128

## 开发要求

### 优先级
1. **P0**（必须）：实时金价显示 + 走势图表
2. **P1**（重要）：历史数据展示
3. **P2**（可选）：价格提醒

### 代码规范
- 使用 ES6+ 语法
- 添加详细注释
- 错误处理完善
- 性能优化（图表渲染）

### 数据更新
- 首次加载从本地 JSON 读取
- 后台每小时自动检查更新（可选）
- 支持手动刷新按钮

## 交付物

1. 完整的 Chrome Extension 源代码
2. 金价历史数据文件
3. 使用文档（README.md）
4. 安装说明

## 参考

- 数据来源：上海黄金期货 (沪金2603)
- 金价监控脚本：~/.openclaw/workspace/daily_reports/gold_price_monitor.py
- 数据文件：~/.openclaw/workspace/daily_reports/gold_price_YYYYMMDD.txt

---

**创建日期**：2026-02-24
**预计完成**：实时显示 + 走势图表 - 20-30 分钟
